{"version":3,"sources":["turbopack:///[project]/mayn-maynsta/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/mayn-maynsta/app/library/[id]/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"next/navigation\";\n\n\ninterface Song {\n  id: string;\n  title: string;\n  cover_image_url?: string | null;\n  audio_url?: string | null;\n}\n\nexport default function PlaylistDetailPage() {\n  const params = useParams();\n  const id = params?.id as string;\n\n  const [playlistName, setPlaylistName] = useState(\"\");\n  const [songs, setSongs] = useState<Song[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadPlaylist = async () => {\n      try {\n        console.log(\"â–¶ Playlist ID:\", id);\n\n        if (!id) throw new Error(\"Keine Playlist-ID erhalten\");\n\n        // 1ï¸âƒ£ Playlist holen\n        const {\n          data: playlist,\n          error: playlistError,\n        } = await supabase\n          .from(\"playlists\")\n          .select(\"name\")\n          .eq(\"id\", id)\n          .single();\n\n        if (playlistError) throw playlistError;\n        if (!playlist) throw new Error(\"Playlist nicht gefunden\");\n\n        setPlaylistName(playlist.name);\n\n        // 2ï¸âƒ£ Songs holen\n        const { data: playlistSongs, error: songsError } = await supabase\n          .from(\"playlist_songs\")\n          .select(`\n            songs (\n              id,\n              title,\n              cover_image_url,\n              audio_url\n            )\n          `)\n          .eq(\"playlist_id\", id);\n\n        if (songsError) throw songsError;\n\n        const extracted = playlistSongs\n          .map((item: any) => item.songs)\n          .filter((s: any) => s !== null);\n\n        setSongs(extracted);\n      } catch (err: any) {\n        console.error(\"Fehler beim Laden:\", err, \"err.message:\", err?.message);\n        setError(\n          err?.message || (err ? JSON.stringify(err) : \"Unbekannter Fehler\")\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadPlaylist();\n  }, [id]);\n\n  if (loading) return <p>Lade Playlist...</p>;\n  if (error) return <p>Fehler: {error}</p>;\n\n  return (\n    <div className=\"p-5\">\n      <h1 className=\"text-xl font-bold mb-4\">{playlistName}</h1>\n\n      {songs.length === 0 ? (\n        <p>Keine Songs in dieser Playlist.</p>\n      ) : (\n        <ul>\n          {songs.map((song) => (\n            <li key={song.id} className=\"mb-3\">\n              <div className=\"flex items-center gap-4\">\n                {song.cover_image_url ? (\n                  <img\n                    src={song.cover_image_url}\n                    alt={song.title}\n                    className=\"w-12 h-12 object-cover rounded\"\n                  />\n                ) : (\n                  <div className=\"w-12 h-12 rounded bg-gray-300 flex items-center justify-center\">\n                    ðŸŽµ\n                  </div>\n                )}\n\n                <div>\n                  <p className=\"font-semibold\">{song.title}</p>\n                  {/* Artist-ID wurde entfernt */}\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\n"],"names":["module","exports","require","vendored","ReactJsxRuntime"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEC,eAAe,0CCAxC,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAUe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAK,GAAQ,GAEb,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,EAAE,EACvC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,YAyDlD,CAvDA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAoDR,CAnDqB,UACnB,GAAI,CAGF,GAFA,QAAQ,GAAG,CAAC,iBAAkB,GAE1B,CAAC,EAAI,MAAM,AAAI,MAAM,8BAGzB,GAAM,CACJ,KAAM,CAAQ,CACd,MAAO,CAAa,CACrB,CAAG,MAAM,SACP,IAAI,CAAC,aACL,MAAM,CAAC,QACP,EAAE,CAAC,KAAM,GACT,MAAM,GAET,GAAI,EAAe,MAAM,EACzB,GAAI,CAAC,EAAU,MAAM,AAAI,MAAM,2BAE/B,EAAgB,EAAS,IAAI,EAG7B,GAAM,CAAE,KAAM,CAAa,CAAE,MAAO,CAAU,CAAE,CAAG,MAAM,SACtD,IAAI,CAAC,kBACL,MAAM,CAAC,CAAC;;;;;;;UAOT,CAAC,EACA,EAAE,CAAC,cAAe,GAErB,GAAI,EAAY,MAAM,EAEtB,IAAM,EAAY,EACf,GAAG,CAAC,AAAC,GAAc,EAAK,KAAK,EAC7B,MAAM,CAAC,AAAC,GAAiB,OAAN,GAEtB,EAAS,EACX,CAAE,MAAO,EAAU,CACjB,QAAQ,KAAK,CAAC,qBAAsB,EAAK,eAAgB,GAAK,SAC9D,EACE,GAAK,UAAY,CAAD,CAAO,KAAK,SAAS,CAAC,GAAO,oBAAA,CAAoB,CAErE,QAAU,CACR,GAAW,EACb,CACF,IAGF,EAAG,CAAC,EAAG,EAEH,GAAgB,CAAA,EAAA,EAAA,CAAP,EAAO,EAAC,IAAA,UAAE,qBACnB,EAAc,CAAA,EAAA,EAAA,AAAP,IAAO,EAAC,IAAA,WAAE,WAAS,KAG5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAA0B,IAEvC,AAAiB,MAAX,MAAM,CACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,oCAEH,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACE,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAiB,UAAU,gBAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,EAAK,eAAe,CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAK,eAAe,CACzB,IAAK,EAAK,KAAK,CACf,UAAU,mCAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EAAiE,OAKlF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAiB,EAAK,KAAK,SAfrC,EAAK,EAAE,OAyB5B","ignoreList":[0]}