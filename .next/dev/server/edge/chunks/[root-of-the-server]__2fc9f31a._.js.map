{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/maynsta-one/lib/supabase/middleware.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\"\nimport { NextResponse, type NextRequest } from \"next/server\"\n\nexport async function updateSession(request: NextRequest) {\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\n  const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY\n\n  if (!supabaseUrl || !supabaseKey) {\n    throw new Error(\"Supabase URL or Key is not set in environment variables\")\n  }\n\n  const supabase = supabasesupabaseUrl, supabaseKey, {\n    auth: { persistSession: false }\n  })\n\n  let supabaseResponse = NextResponse.next({ request })\n\n  // Auth-Session aus Cookie lesen\n  const access_token = request.cookies.get(\"sb-access-token\")?.value\n  if (access_token) {\n    supabase.auth.setAuth(access_token)\n  }\n\n  const { data: { user } = {} } = await supabase.auth.getUser()\n\n  if (user && request.nextUrl.pathname.startsWith(\"/auth\")) {\n    const url = request.nextUrl.clone()\n    url.pathname = \"/home\"\n    return NextResponse.redirect(url)\n  }\n\n  if (!user && !request.nextUrl.pathname.startsWith(\"/auth\")) {\n    const url = request.nextUrl.clone()\n    url.pathname = \"/auth/login\"\n    return NextResponse.redirect(url)\n  }\n\n  return supabaseResponse\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;AAEO,eAAe,cAAc,OAAoB;IACtD,MAAM;IACN,MAAM,cAAc,QAAQ,GAAG,CAAC,yBAAyB;IAEzD,IAAI,CAAC,eAAe,CAAC,aAAa;QAChC,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,WAAW,IAAA,iOAAY,EAAC,aAAa,aAAa;QACtD,MAAM;YAAE,gBAAgB;QAAM;IAChC;IAEA,IAAI,mBAAmB,kNAAY,CAAC,IAAI,CAAC;QAAE;IAAQ;IAEnD,gCAAgC;IAChC,MAAM,eAAe,QAAQ,OAAO,CAAC,GAAG,CAAC,oBAAoB;IAC7D,IAAI,cAAc;QAChB,SAAS,IAAI,CAAC,OAAO,CAAC;IACxB;IAEA,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE3D,IAAI,QAAQ,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU;QACxD,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;QACjC,IAAI,QAAQ,GAAG;QACf,OAAO,kNAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,IAAI,CAAC,QAAQ,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU;QAC1D,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;QACjC,IAAI,QAAQ,GAAG;QACf,OAAO,kNAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO;AACT"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/maynsta-one/middleware.ts"],"sourcesContent":["// middleware.ts\nimport { updateSession } from \"@/lib/supabase/middleware\";\nimport type { NextRequest } from \"next/server\";\n\n// Diese Middleware sorgt für Supabase Session Sync (Cookie <-> Local Storage)\nexport async function middleware(request: NextRequest) {\n  return await updateSession(request);\n}\n\n// Nur auf \"geschützten\" Routen prüfen (z. B. /dashboard, /account)\nexport const config = {\n  matcher: [\"/dashboard/:path*\", \"/account/:path*\"],\n};\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;;;AAChB;;AAIO,eAAe,WAAW,OAAoB;IACnD,OAAO,MAAM,IAAA,wKAAa,EAAC;AAC7B;AAGO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAqB;KAAkB;AACnD"}}]
}