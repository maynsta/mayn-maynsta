(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26962,e=>{"use strict";var t=e.i(74181),l=e.i(28067),s=e.i(29076),r=e.i(78074);function i({title:e,artist:l,imageUrl:i}){return(0,t.jsxs)("div",{className:"group relative bg-neutral-900/40 hover:bg-neutral-800/40 rounded-md p-4 transition cursor-pointer",children:[(0,t.jsxs)("div",{className:"relative aspect-square mb-4 rounded-md overflow-hidden bg-neutral-800",children:[i?(0,t.jsx)("img",{src:i||"/placeholder.svg",alt:e,className:"object-cover w-full h-full"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-16 h-16 text-neutral-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})})}),(0,t.jsx)(r.Button,{size:"icon",className:"absolute bottom-2 right-2 h-12 w-12 rounded-full bg-primary hover:bg-primary/90 opacity-0 group-hover:opacity-100 transition shadow-lg hover:scale-105",children:(0,t.jsx)(s.Play,{className:"h-5 w-5 fill-current text-black"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white truncate mb-1",children:e}),l&&(0,t.jsx)("p",{className:"text-sm text-neutral-400 truncate",children:l})]})]})}function a(){let[e,s]=(0,l.useState)([]),[r,a]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{try{let{data:{user:e},error:t}=await supabase.auth.getUser();if(t||!e)return;let{data:l,error:r}=await supabase.from("recently_played").select(`
            songs (
              id,
              title,
              artist_id,
              cover_image_url,
              audio_url
            )
          `).eq("user_id",e.id).order("played_at",{ascending:!1}).limit(5);if(r)throw r;let i=l?.map(e=>e.songs).filter(e=>null!==e);s(i||[])}catch(e){console.error("Fehler beim Laden der zuletzt gespielten Songs:",e)}finally{a(!1)}})()},[]),(0,t.jsx)("div",{className:"h-full",children:(0,t.jsxs)("div",{className:"bg-gradient-to-b from-neutral-900 to-black p-6 space-y-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Home"}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Neu"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:[(0,t.jsx)(i,{title:"Song 1"}),(0,t.jsx)(i,{title:"Song 2"})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Zuletzt gehÃ¶rt"}),r?(0,t.jsx)("p",{className:"text-white",children:"Lade zuletzt gespielte Songs..."}):0===e.length?(0,t.jsx)("p",{className:"text-white",children:"Keine zuletzt gespielten Songs."}):(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:e.map(e=>(0,t.jsx)(i,{title:e.title,cover:e.cover_image_url,artist:e.artist_id,audio:e.audio_url},e.id))})]})]})})}e.s(["default",()=>a],26962)}]);