(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49495,e=>{"use strict";var t=e.i(74181),a=e.i(99872);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>l])},91886,e=>{"use strict";var t=e.i(74181),a=e.i(28067),s=e.i(59919),r=e.i(49495),l=e.i(74190);let i=(0,l.default)("ListMusic",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]),d=(0,l.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function n({playlistName:e,userId:s,onCreated:r}){let[l,i]=(0,a.useState)(!1),d=async()=>{if(e.trim()){i(!0);try{let{data:t,error:a}=await supabase.from("playlists").insert([{name:e,user_id:s}]).select().single();if(a)throw a;r&&r()}catch(e){console.error("Fehler beim Erstellen der Playlist:",e),alert("Fehler beim Erstellen")}finally{i(!1)}}};return(0,t.jsx)("button",{onClick:d,disabled:l||!e.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-full disabled:opacity-50",children:l?"Erstelle...":"Create"})}function c(){let[e,l]=(0,a.useState)([]),[c,o]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),[m,x]=(0,a.useState)(null),p=(0,s.useRouter)();(0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await supabase.auth.getUser();e&&x(e.id)})()},[]);let f=async e=>{let{data:t}=await supabase.from("playlists").select("*").eq("user_id",e).order("created_at",{ascending:!1});l(t||[])};return(0,a.useEffect)(()=>{m&&f(m)},[m]),(0,t.jsxs)("div",{className:"p-6 min-h-screen bg-neutral-900 text-white",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Library"}),m&&(0,t.jsx)("div",{className:"mb-6",children:c?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"Neue Playlist",value:u,onChange:e=>h(e.target.value),className:"border p-2 rounded-full w-full text-white bg-neutral-800"}),(0,t.jsx)(n,{playlistName:u,userId:m,onCreated:()=>{h(""),o(!1),f(m)}})]}):(0,t.jsx)("button",{onClick:()=>o(!0),className:"w-10 h-10 flex items-center justify-center bg-white text-black rounded-full",children:(0,t.jsx)(d,{})})}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:e.length>0?e.map(e=>(0,t.jsx)(r.Card,{className:"bg-neutral-800 hover:bg-neutral-700 transition cursor-pointer",onClick:()=>p.push(`/library/${e.id}`),children:(0,t.jsxs)(r.CardContent,{className:"flex items-center gap-2",children:[(0,t.jsx)(i,{className:"w-6 h-6"}),(0,t.jsx)("p",{className:"font-semibold text-white",children:e.name})," "]})},e.id)):(0,t.jsx)("p",{className:"text-neutral-400",children:"Keine Playlists vorhanden."})})]})}e.s(["default",()=>c],91886)}]);