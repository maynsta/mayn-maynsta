(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{1572:(e,s,t)=>{Promise.resolve().then(t.bind(t,9795))},1941:(e,s,t)=>{"use strict";t.d(s,{N:()=>l});let l=(0,t(6218).UU)("https://oxuyvirkbpvtvgbbmkmh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94dXl2aXJrYnB2dHZnYmJta21oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5MTYyMTUsImV4cCI6MjA3NzQ5MjIxNX0.ii3Ao4_0qrANSNHasZfCs23_5zv6ifxAjqRIZigw14E")},7104:(e,s,t)=>{"use strict";t.d(s,{_:()=>i});var l=t(5177);function i({title:e,artist:s,imageUrl:t,audio:i}){return(0,l.jsxs)("div",{className:"group relative bg-neutral-900/40 hover:bg-neutral-800/40 rounded-md p-4 transition cursor-pointer",children:[(0,l.jsx)("div",{className:"relative aspect-square mb-4 rounded-md overflow-hidden bg-neutral-800",children:t?(0,l.jsx)("img",{src:t,alt:e,className:"object-cover w-full h-full"}):(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-16 h-16 text-neutral-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-semibold text-white truncate mb-1",children:e}),s&&(0,l.jsx)("p",{className:"text-sm text-neutral-400 truncate",children:s})]})]})}},9795:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var l=t(5177),i=t(1941),r=t(1741),a=t(7104);function c(){let[e,s]=(0,r.useState)([]),[t,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let{data:{user:e},error:t}=await i.N.auth.getUser();if(t||!e){console.warn("Kein eingeloggter User:",t?.message),s([]);return}let{data:l,error:r}=await i.N.from("recently_played").select(`
            songs (
              id,
              title,
              artist_id,
              cover_image_url,
              audio_url
            )
          `).eq("user_id",e.id).order("played_at",{ascending:!1}).limit(5);if(r)throw r;let a=l?.map(e=>e.songs).filter(e=>null!==e);s(a||[])}catch(e){console.error("Fehler beim Laden der zuletzt gespielten Songs:",e),s([])}finally{c(!1)}})()},[]),(0,l.jsx)("div",{className:"h-full",children:(0,l.jsxs)("div",{className:"bg-gradient-to-b from-neutral-900 to-black p-6 space-y-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Home"}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Neu"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:[(0,l.jsx)(a._,{title:"Song 1"}),(0,l.jsx)(a._,{title:"Song 2"})]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Zuletzt geh\xf6rt"}),t?(0,l.jsx)("p",{className:"text-white",children:"Lade zuletzt gespielte Songs..."}):0===e.length?(0,l.jsx)("p",{className:"text-white",children:"Keine zuletzt gespielten Songs."}):(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:e.map(e=>(0,l.jsx)(a._,{title:e.title,imageUrl:e.cover_image_url??void 0,artist:e.artist_id??void 0,audio:e.audio_url??void 0},e.id))})]})]})})}}},e=>{e.O(0,[218,745,562,358],()=>e(e.s=1572)),_N_E=e.O()}]);